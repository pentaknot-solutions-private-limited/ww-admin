"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[762],{6762:function(n,e,t){t.d(e,{Z:function(){return un}});var r=t(5893),a=t(7294),i=t(244),o=t(3978),c=t(9417),l=t(6394),s=t(9807),u=t(7272),d=t(5084),p=t(4573),f=t(1719),x=t(1011),h=t(7169),m=t(1953),b=t(6777),g=t(3212),v=t(4631),y=t(4026);function w(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Z(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function j(){var n=Z(["\n  padding: 20px 40px;\n  background: #fffef5;\n  width: 100%;\n  height: 100vh;\n  font-family:'SF Compact Display';\n  @media screen and (max-width: 1200px) {\n    padding: 20px 20px 20px 100px;\n  }\n"]);return j=function(){return n},n}function C(){var n=Z(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  max-width: 1300px;\n  margin: 0 auto;\n  font-family:'SF Compact Display';\n"]);return C=function(){return n},n}function S(){var n=Z(["\n  padding: 30px 24px;\n  border-radius: 8px;\n  box-shadow: 0px 10px 13px rgba(17, 38, 146, 0.05);\n  border-radius: 8px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  max-width: 366px;\n  font-family:'SF Compact Display';\n  :not(:last-child) {\n    margin-right: 30px;\n  }\n"]);return S=function(){return n},n}function D(){var n=Z(["\nfont-weight: 500;\nfont-size: 24px;\ncolor: #BDBDBD;\nmargin: 0px 0px 15px 0px;\ntext-transform: capitalize;\nfont-family:'SF Compact Display';\n"]);return D=function(){return n},n}function F(){var n=Z(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nfont-family:'SF Compact Display';\nmargin-bottom: 15px;\n"]);return F=function(){return n},n}function P(){var n=Z(["\nfont-size: 48px;\nfont-weight:400;\ncolor: #000000;\nmargin:0px 0px 15px 0px;\nfont-family:'SF Compact Display';\n"]);return P=function(){return n},n}function k(){var n=Z(["\nbackground: #FFFFFF;\nbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\nborder-radius: 12px;\npadding:12px 24px;\nmargin:25px 0px;\nfont-family:'SF Compact Display';\n"]);return k=function(){return n},n}function N(){var n=Z(["\nbackground: rgba(33, 33, 33, 0.08);\nborder-radius: 4px 4px 0px 0px;\ncolor: rgba(0, 0, 0, 0.87);\nfont-family:'SF Compact Display';\n& .MuiOutlinedInput-notchedOutline{\n    border:none;\n    font-family:'SF Compact Display';\n}\n"]);return N=function(){return n},n}function O(){var n=Z(["\n& .MuiDrawer-paper{\n    max-width:430px;\n    width:100%;\n    font-family:'SF Compact Display';\n}\n\n"]);return O=function(){return n},n}function _(){var n=Z(["\npadding: 20px 25px;\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nborder-bottom:1px solid #DEDEDE;\nfont-family:'SF Compact Display';\n& h5 {\n    font-size: 20px;\n    color: #373737;\n    font-weight:400;\n    margin:0px;\n\n}\n"]);return _=function(){return n},n}function I(){var n=Z(["\npadding:15px 10px;\nborder:0px;\nbox-shadow:none;\nfont-family:'SF Compact Display';\n& .MuiTable-root{\n    border:1px solid #E7E7ED;\n    box-sizing: border-box;\n    border-radius: 4px;\n}\n\n"]);return I=function(){return n},n}var U,z=(0,f.ZP)("div")((function(n){n.theme;return{display:"flex",alignItems:"end",width:"100%",maxWidth:"300px",margin:"0 0 0 auto",fontFamily:"SF Compact Display"}})),E=(0,f.ZP)("div")((function(n){return{position:"relative",borderRadius:n.theme.shape.borderRadius,backgroundColor:"rgba(33, 33, 33, 0.08);",width:"100%",fontFamily:"SF Compact Display"}})),M=(0,f.ZP)("div")((function(n){return{padding:n.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"SF Compact Display"}})),R=(0,f.ZP)(x.ZP)((function(n){var e=n.theme;return{color:"inherit","& .MuiInputBase-input":w({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),")"),transition:e.transitions.create("width"),fontFamily:"SF Compact Display",width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}})),A=((0,f.ZP)(m.Z)((function(n){n.theme;return{display:"flex",fontFamily:"SF Compact Display","@media (max-width: 1200px)":{display:"block"}}})),(0,f.ZP)("div")(j()),(0,f.ZP)("div")(C()),(0,f.ZP)(m.Z)(S()),(0,f.ZP)(b.Z)((function(n){n.theme;return{border:"1px solid rgba(224, 224, 224, 1)",borderRadius:"4px",marginBottom:"30px",fontFamily:"SF Compact Display"}}))),B=(0,f.ZP)(u.Z)((function(n){n.theme;return w(U={},"&.".concat(y.Z.head),{backgroundColor:"#fff",color:"#272833",fontSize:16,fontWeight:600,whiteSpace:"nowrap",fontFamily:"SF Compact Display"}),w(U,"&.".concat(y.Z.body),{fontSize:16,fontWeight:600,fontFamily:"SF Compact Display"}),U})),T=(0,f.ZP)(c.Z)((function(n){n.theme;return{cursor:"pointer","&:nth-of-type(odd)":{backgroundColor:"#F9F9F9",fontFamily:"SF Compact Display"},"&:nth-of-type(even)":{backgroundColor:"#FFFFFF",fontFamily:"SF Compact Display"},"& td":{border:0,fontFamily:"SF Compact Display"}}})),q=(0,f.ZP)(g.Z)((function(n){n.theme;return{borderTop:"1px solid rgba(224, 224, 224, 1)",backgroundColor:"#fff",fontFamily:"SF Compact Display","& td":{border:0,fontFamily:"SF Compact Display"}}})),H=((0,f.ZP)("h3")(D()),(0,f.ZP)("div")(F()),(0,f.ZP)("h2")(P()),(0,f.ZP)(d.Z)((function(n){n.theme;return{backgroundColor:"rgba(63, 81, 181, 0.08)",border:"1px solid rgba(63, 81, 181, 0.5)",borderRadius:"4px",fontSize:"12px",fontWeight:"500",color:"rgba(0, 0, 0, 0.87)",boxShadow:"none",fontFamily:"SF Compact Display",":hover":{backgroundColor:"rgba(63, 81, 181, 0.08)",color:"rgba(0, 0, 0, 0.87)"}}})),(0,f.ZP)("div")(k()),(0,f.ZP)(h.Z)(N()),(0,f.ZP)(v.ZP)(O()),(0,f.ZP)("div")(_()),(0,f.ZP)(b.Z)(I()),t(562)),L=t(8066),W=t(6172),J=t(8317),Y=t(1290),$=t(2097);var K=function(n){var e=(0,$.Z)(),t=n.count,a=n.page,i=n.rowsPerPage,o=n.onPageChange;return(0,r.jsxs)(m.Z,{sx:{flexShrink:0,ml:2.5},children:[(0,r.jsx)(H.Z,{onClick:function(n){o(n,0)},disabled:0===a,"aria-label":"first page",children:"rtl"===e.direction?(0,r.jsx)(Y.Z,{}):(0,r.jsx)(L.Z,{})}),(0,r.jsx)(H.Z,{onClick:function(n){o(n,a-1)},disabled:0===a,"aria-label":"previous page",children:"rtl"===e.direction?(0,r.jsx)(J.Z,{}):(0,r.jsx)(W.Z,{})}),(0,r.jsx)(H.Z,{onClick:function(n){o(n,a+1)},disabled:a>=Math.ceil(t/i)-1,"aria-label":"next page",children:"rtl"===e.direction?(0,r.jsx)(W.Z,{}):(0,r.jsx)(J.Z,{})}),(0,r.jsx)(H.Z,{onClick:function(n){o(n,Math.max(0,Math.ceil(t/i)-1))},disabled:a>=Math.ceil(t/i)-1,"aria-label":"last page",children:"rtl"===e.direction?(0,r.jsx)(L.Z,{}):(0,r.jsx)(Y.Z,{})})]})},G=t(2761),Q=t(1163),V=t(381),X=t.n(V),nn=t(8433),en=t(5669),tn=t(1622),rn=t(7174),an="/_next/static/media/trash.1abca1ff.svg",on=t(5948);function cn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ln(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){cn(n,e,t[e])}))}return n}function sn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,a=!1,i=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done)&&(t.push(o.value),!e||t.length!==e);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function un(n){var e=n.userDatas,t=n.headCells,f=n.inventoryOrdering,x=(n.setUserData,n.setImageReorder),h=n.parentPage,m=n.disableclickable,b=n.isPagination,g=function(n,e){var t=n.map((function(n,e){return[n,e]}));return t.sort((function(n,t){var r=e(n[0],t[0]);return 0!==r?r:n[1]-t[1]})),t.map((function(n){return n[0]}))},v=function(n,e,t){return e[t]<n[t]?-1:e[t]>n[t]?1:0},y=function(n,e){return"desc"===n?function(n,t){return v(n,t,e)}:function(n,t){return-v(n,t,e)}},w=sn(a.useState(0),2),Z=w[0],j=w[1],C=sn(a.useState(5),2),S=C[0],D=C[1],F=sn(a.useState(),2),P=F[0],k=F[1],N=sn(a.useState(),2),O=N[0],_=N[1],I=sn(a.useState({fn:function(n){return n}}),2),U=I[0],H=I[1],L=(0,Q.useRouter)(),W=Z>0?Math.max(0,(1+Z)*S-e.length):0,J=function(){return f?null===(n=U.fn(e))||void 0===n?void 0:n.sort((function(n,e){var t;return(null===n||void 0===n||null===(t=n.Car_Detail)||void 0===t?void 0:t.carOrder)-(null===e||void 0===e?void 0:e.Car_Detail.carOrder)})):b?g(U.fn(e),y(P,O)).slice(Z*S,Z*S+S):g(U.fn(e),y(P,O));var n}(),Y=(0,a.useContext)(tn.Z),$=(Y.loading,Y.setLoading),V=(0,a.useContext)(rn.Z),cn=(V.refreshData,V.setRefreshData);return(0,a.useEffect)((function(){}),[e]),(0,r.jsx)("div",{className:"table-wrapper",children:(0,r.jsx)(A,{children:(0,r.jsx)(on.Z5,{onDragEnd:function(n){if(n.destination){var t=Array.from(e),r=sn(t.splice(n.source.index,1),1)[0];t.splice(n.destination.index,0,r),x(t),console.log(t)}},children:(0,r.jsxs)(i.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(c.Z,{children:(0,r.jsx)(B,{colSpan:9,children:(0,r.jsx)(z,{children:(0,r.jsxs)(E,{children:[(0,r.jsx)(M,{children:(0,r.jsx)(G.Z,{})}),(0,r.jsx)(R,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"},onChange:function(n){var e=n.target;H({fn:function(n){return""==e.value?n:n.filter((function(n){return JSON.stringify(n).toLowerCase().includes(e.value.toLowerCase())}))}})}})]})})})}),(0,r.jsx)(c.Z,{children:t.map((function(n,e){var t=n.id,a=n.name,i=n.disabledSorting;n.onClickAction;return(0,r.jsx)(B,{children:i?a:(0,r.jsx)(l.Z,{active:O===t,direction:O===t?P:"asc",onClick:function(){var n;k(O===(n=t)&&"asc"===P?"desc":"asc"),_(n)},children:a})},"tabelhead-".concat(e))}))})]}),(0,r.jsx)(on.bK,{droppableId:"inventory-table",children:function(n){return(0,r.jsxs)(s.Z,ln({ref:n.innerRef},n.droppableProps,{children:[J.map((function(n,e){return(0,r.jsx)(on._l,{draggableId:"inventory-tabelrow-".concat(e),isDragDisabled:!f,index:e,children:function(e){return(0,r.jsx)(T,ln({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{hover:!0,onClick:function(){return function(n){var e;m||(e="query"==h?n.id:n._id,console.log(e),L.push({pathname:"/".concat(h,"/").concat(e)}))}(n)},sx:{"&:last-child td, &:last-child th":{border:0}},children:t.map((function(e,t){var a,i,o,c,l,s,p,f,x=e.id,h=e.format,m=e.action;return"address"==x||"message"==x||"Address1"==x||"query"==x?(0,r.jsx)(u.Z,{sx:{minWidth:250},children:n[x]},"tabelcell-".concat(t)):"createdAt"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:X()(n[x]).format("MM/DD/YYYY")},"tabelcell-".concat(t)):"status"==x?(0,r.jsx)(u.Z,{children:(0,r.jsx)(d.Z,{variant:"outlined",className:"Available"==n.status?"available":"Sold"==n.status?"sold":"Negotiation"==n.status?"negotiation":"Evaluating"==n.status?"evaluating":"rejected",children:n.status})},"tabelcell-".concat(t)):"carImage"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:(null===n||void 0===n?void 0:n.Car_Images.length)>0&&(0,r.jsx)("div",{className:"inventory-table-img",children:(0,r.jsx)("img",{src:null===(i=null===n||void 0===n||null===(a=n.Car_Images)||void 0===a?void 0:a.find((function(n){return 0==n.imageOrder})))||void 0===i?void 0:i.imageLink,alt:null===n||void 0===n?void 0:n.Car_Images[0].title})})},"tabelcell-".concat(t)):"firstName"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:n.firstName[0].toUpperCase()+n.firstName.substring(1)+" "+(n.lastName&&n.lastName[0].toUpperCase()+n.lastName.substring(1))},"tabelcell-".concat(t)):"User"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:n.User&&n.User.firstName[0].toUpperCase()+n.User.firstName.substring(1)+" "+(n.User.lastName&&n.User.lastName[0].toUpperCase()+n.User.lastName.substring(1))},"tabelcell-".concat(t)):"userContactNo"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:n.User&&n.User.phoneNumber},"tabelcell-".concat(t)):"userEmail"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:n.User&&n.User.emailId},"tabelcell-".concat(t)):"Brand"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:n.Brand&&"626e38f26e4527d955eabe65"==n.Brand._id?n.otherName:n.Brand.name},"tabelcell-".concat(t)):"requestPrice"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:n.requestPrice&&(0,nn.o)(n.requestPrice)},"tabelcell-".concat(t)):"bookOnDateTime"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:n.bookOnDateTime&&X()(n.bookOnDateTime).format(h)},"tabelcell-".concat(t)):"carNumber"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:n.Car_Detail&&(null===(o=n.Car_Detail)||void 0===o?void 0:o.carNumber)},"tabelcell-".concat(t)):"carName"==x?(0,r.jsx)(u.Z,{children:n.Car_Detail&&(null===(c=n.Car_Detail)||void 0===c?void 0:c.name)},"tabelcell-".concat(t)):"year"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:n.Car_Detail&&(null===(l=n.Car_Detail)||void 0===l?void 0:l.year)},"tabelcell-".concat(t)):"milege"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:n.Car_Detail&&(null===(s=n.Car_Detail)||void 0===s?void 0:s.milege)},"tabelcell-".concat(t)):"ownerShip"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:n.Car_Detail&&(null===(p=n.Car_Detail)||void 0===p?void 0:p.ownerShip)},"tabelcell-".concat(t)):"kmDriven"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:n.Car_Detail&&(null===(f=n.Car_Detail)||void 0===f?void 0:f.kmDriven)},"tabelcell-".concat(t)):"delete"==x?(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:(0,r.jsx)("a",{href:"javascript:void(0)",onClick:function(e){e.stopPropagation(),function(n,e){switch(n){case"deleteInventoryCar":$(!0),console.log("deleting...  the car"+e),1==confirm("Are you sure you really want to delete this car!")?en.Z.post("/car/delete/".concat(e)).then((function(n){console.log(n.data),$(!1),cn(n)})).catch((function(n){console.log(n),$(!1)})):$(!1)}}(m,n._id)},className:"delete-btn",children:(0,r.jsx)("img",{src:an,alt:""})})},"tabelcell-".concat(t)):(0,r.jsx)(u.Z,{sx:{whiteSpace:"nowrap"},children:n[x]&&n[x]},"tabelcell-".concat(t))}))}))}},"inventory-tabelrow-".concat(e))})),W>0&&(0,r.jsx)(T,{style:{height:53*W},children:(0,r.jsx)(u.Z,{colSpan:9})})]}))}}),b?(0,r.jsx)(q,{children:(0,r.jsx)(c.Z,{children:(0,r.jsx)(p.Z,{rowsPerPageOptions:[5,6,8,{label:"All",value:-1}],colSpan:9,count:e.length,rowsPerPage:S,page:Z,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:function(n,e){j(e)},onRowsPerPageChange:function(n){D(parseInt(n.target.value,10)),j(0)},ActionsComponent:K})})}):null]})})})})}},5669:function(n,e,t){var r=t(5666),a=t.n(r),i=t(6388),o=t.n(i),c=t(4929),l=t(7628),s=t(6245),u=t(7484),d=t.n(u);function p(n,e,t,r,a,i,o){try{var c=n[i](o),l=c.value}catch(s){return void t(s)}c.done?e(l):Promise.resolve(l).then(r,a)}var f,x=(0,l.H)()&&(0,l.H)(),h=(0,l.z)()&&(0,l.z)(),m=o().create({baseURL:c.z,headers:{"x-access-token":x}});m.interceptors.request.use((f=a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(x=(0,l.H)()&&(0,l.H)(),e.headers["x-access-token"]=x,!((t=x&&(0,s.Z)(x))&&d().unix(t.exp).diff(d()())<1)){n.next=15;break}return console.log(h.id),n.prev=6,n.next=9,o().get("".concat(c.z,"/admin/refreshToken/").concat(h.id));case 9:(r=n.sent).data.error||h&&(h.accessToken=r.data.data,localStorage.setItem("jwt",JSON.stringify(h))),n.next=15;break;case 13:n.prev=13,n.t0=n.catch(6);case 15:return n.abrupt("return",e);case 16:case"end":return n.stop()}}),n,null,[[6,13]])})),function(){var n=this,e=arguments;return new Promise((function(t,r){var a=f.apply(n,e);function i(n){p(a,t,r,i,o,"next",n)}function o(n){p(a,t,r,i,o,"throw",n)}i(void 0)}))})),e.Z=m},4929:function(n,e,t){t.d(e,{z:function(){return r}});var r="https://api.wishwheels.com/api"},8433:function(n,e,t){t.d(e,{o:function(){return r}});var r=function(n){if(n){var e=n.toString().split("."),t=e[0].replace(/(\d)(?=(\d\d)+\d$)/g,"$1,")+(e[1]?"."+e[1]:"");return"\u20b9 ".concat(t)}}},7628:function(n,e,t){t.d(e,{H:function(){return r},z:function(){return a}});var r=function(){if(localStorage.getItem("jwt")){var n,e,t=localStorage.getItem("jwt");if(t)n=null===(e=JSON.parse(t))||void 0===e?void 0:e.accessToken;return n}},a=function(){var n="",e="";return localStorage&&(n=localStorage.getItem("jwt")||"")&&(e=JSON.parse(n)),e}}}]);